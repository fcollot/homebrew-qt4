diff --git a/src/sql/drivers/odbc/qsql_odbc.cpp b/src/sql/drivers/odbc/qsql_odbc.cpp
index 18897372c3..41adfe2c6a 100644
--- a/src/sql/drivers/odbc/qsql_odbc.cpp
+++ b/src/sql/drivers/odbc/qsql_odbc.cpp
@@ -76,15 +76,19 @@ inline static QString fromSQLTCHAR(const QVarLengthArray<SQLTCHAR>& input, int s
         realsize--;
     switch(sizeof(SQLTCHAR)) {
         case 1:
+            qDebug() << "1";
             result=QString::fromUtf8((const char *)input.constData(), realsize);
             break;
         case 2:
+            qDebug() << "2";
             result=QString::fromUtf16((const ushort *)input.constData(), realsize);
             break;
         case 4:
+            qDebug() << "4";
             result=QString::fromUcs4((const uint *)input.constData(), realsize);
             break;
         default:
+            qDebug() << "default";
             qCritical() << "sizeof(SQLTCHAR) is " << sizeof(SQLTCHAR) << "Don't know how to handle this";
     }
     return result;
@@ -208,9 +212,10 @@ static QString qWarnODBCHandle(int handleType, SQLHANDLE handle, int *nativeCode
     QVarLengthArray<SQLTCHAR> description_(SQL_MAX_MESSAGE_LENGTH);
     QString result;
     int i = 1;
-
+    qDebug() << "------- " << description_.size();
     description_[0] = 0;
     do {
+        qDebug() << "A";
         r = SQLGetDiagRec(handleType,
                           handle,
                           i,
@@ -219,8 +224,10 @@ static QString qWarnODBCHandle(int handleType, SQLHANDLE handle, int *nativeCode
                           0,
                           0,
                           &msgLen);
+        qDebug() << "B";
         if ((r == SQL_SUCCESS || r == SQL_SUCCESS_WITH_INFO) && msgLen > 0)
             description_.resize(msgLen+1);
+        qDebug() << "------- resized to " << description_.size();
         r = SQLGetDiagRec(handleType,
                             handle,
                             i,
@@ -229,25 +236,38 @@ static QString qWarnODBCHandle(int handleType, SQLHANDLE handle, int *nativeCode
                             description_.data(),
                             description_.size(),
                             &msgLen);
+        qDebug() << "C";
         if (r == SQL_SUCCESS || r == SQL_SUCCESS_WITH_INFO) {
+            qDebug() << "D";
             if (nativeCode)
+            {
+                qDebug() << "D'";
                 *nativeCode = nativeCode_;
+            }
             QString tmpstore;
 #ifdef UNICODE
+            qDebug() << "------- UNICODE";
             tmpstore = fromSQLTCHAR(description_, msgLen);
 #else
+            qDebug() << "------- NOT UNICODE";
             tmpstore = QString::fromUtf8((const char*)description_.constData(), msgLen);
 #endif
             if(result != tmpstore) {
+                qDebug() << "E";
                 if(!result.isEmpty())
+                {
+                    qDebug() << "E'";
                     result += QLatin1Char(' ');
+                }
                 result += tmpstore;
             }
         } else if (r == SQL_ERROR || r == SQL_INVALID_HANDLE) {
+            qDebug() << "F";
             return result;
         }
         ++i;
     } while (r != SQL_NO_DATA);
+    qDebug() << "G";
     return result;
 }
 
